(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{111:function(e,t){t.apiUrl="https://api.dollarvendorapp.com/"},150:function(e,t,a){e.exports=a.p+"static/media/logo.4eb3be3b.jpg"},227:function(e,t,a){e.exports=a(419)},232:function(e,t,a){},233:function(e,t,a){},419:function(e,t,a){"use strict";a.r(t);var n=a(120),o=a(121),r=a(141),l=a(144),c=a(0),i=a.n(c),s=a(21),u=a.n(s),m=(a(232),a(9)),d=a(220),h=a(38),p=(a(233),a(423)),g=a(425),f=p.a.Text;var b=Object(c.memo)((function(e){var t=e.placeholder,a=e.autoFocus,n=e.title,o=e.value,r=e.onChange,l=e.required,c=e.suffix,s={input:{width:"70%",borderRadius:3},title:{fontWeight:"bold",marginBottom:2}};return i.a.createElement(i.a.Fragment,null,i.a.createElement(f,{style:s.title},n,l?i.a.createElement(f,{type:"danger"},"*"):null),i.a.createElement(g.a,{value:o,onChange:function(e){r(e.target.value)},size:"large",suffix:c,placeholder:t,autoFocus:a,style:s.input,bordered:!0,splaceholder:t}))})),E=a(47);var v=Object(c.memo)((function(e){var t=e.title,a=e.onClick,n=e.disabled,o=e.width,r={borderRadius:20,marginTop:10,color:"white",fontWeight:"bold",width:o||"",marginBottom:20,display:e.print?"none":""};return i.a.createElement(E.a,{className:"commen-btn",type:"primary",style:r,disabled:n,onClick:a},t)})),y=a(422);var S=Object(c.memo)((function(e){var t=e.title,a=e.yesTitle,n=e.handleClose,o=e.visible,r=e.handleYes,l=e.handleNo,s=e.modalTextMain,u=Object(c.useState)(!1),d=Object(m.a)(u,2),h=d[0],p=d[1],g=Object(c.useState)(""),f=Object(m.a)(g,2),b=(f[0],f[1]);return Object(c.useEffect)((function(){b(s)}),[s]),i.a.createElement(i.a.Fragment,null,i.a.createElement(y.a,{title:t,visible:o,onOk:function(){p(!0),b(a),r(),setTimeout((function(){p(!1),n()}),2e3)},confirmLoading:h,onCancel:function(){l(),n()}},i.a.createElement("p",null,s)))})),O=a(36),C=a.n(O),_=a(225);var j=Object(c.memo)((function(e){var t=Object(c.useState)(!1),n=Object(m.a)(t,2),o=n[0],r=n[1],l=Object(c.useState)(""),s=Object(m.a)(l,2),u=s[0],d=s[1],h=Object(c.useState)(!1),p=Object(m.a)(h,2),g=p[0],f=p[1],E={view:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",minHeight:"100vh"},text:{textAlign:"left"},image:{height:80,width:150,marginBottom:30}};return i.a.createElement("div",{style:E.view},i.a.createElement("img",{src:a(150),style:E.image,alt:"Dollar Industries Ltd."}),i.a.createElement(b,{value:u,onChange:function(e){d(e.toUpperCase())},title:"PAN Number",autoFocus:!0,placeholder:"Enter your 10 digit PAN number"}),i.a.createElement(v,{title:"Submit",disabled:!(10===u.length),onClick:function(){C.a.get("/vendors/get-vendors-by-pan/".concat(u)).then((function(e){0===e.data.length?(r(!0),f(!0)):r(!0)})).catch((function(e){_.b.error("Please check your internet connection")}))}}),i.a.createElement(S,{title:"Continue",modalTextMain:"Are you sure you want to continue?",visible:o,yesTitle:"Please wait while we check..",handleClose:function(){r(!1)},handleYes:function(){return g?e.history.push("/request-pan-info"):e.history.push("/gst-listing/".concat(u))},handleNo:function(){r(!1)}}))})),w=p.a.Text,N=Object(c.memo)((function(e){var t=Object(c.useState)(""),a=Object(m.a)(t,2),n=a[0],o=a[1],r=Object(c.useState)(""),l=Object(m.a)(r,2),s=l[0],u=l[1],d=Object(c.useState)(""),h=Object(m.a)(d,2),p=h[0],g=h[1],f=Object(c.useState)(""),E=Object(m.a)(f,2),y=E[0],O=E[1],j=Object(c.useState)(!1),N=Object(m.a)(j,2),k=N[0],T=N[1],x=Object(c.useState)(""),I=Object(m.a)(x,2),A=I[0],P=I[1],D=Object(c.useState)(""),W=Object(m.a)(D,2),B=W[0],F=W[1],L={view:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",minHeight:"100vh"},disclaimer:{textAlign:"center",marginBottom:20,width:"80%"},head:{fontSize:15,marginBottom:10,color:"#1890ff"}};return i.a.createElement("div",{style:L.view},i.a.createElement(w,{style:L.disclaimer},"Your PAN is not found registered with Dollar Industries Ltd., please send an email at",i.a.createElement("br",null),i.a.createElement("a",{href:"mailto:test@exmaple.com"},"test@example.com"),i.a.createElement("br",null),"with your id after submitting the details required below."),i.a.createElement(w,{style:L.head},"Fill the details below."),i.a.createElement(b,{title:"Organization Name*",value:n,onChange:function(e){o(e)},autoFocus:!0,placeholder:"Enter your Name"}),i.a.createElement(b,{title:"PAN Number*",value:y,onChange:function(e){O(e.toUpperCase())},placeholder:"Enter 10 digit PAN Number"}),i.a.createElement(b,{title:"Mobile*",value:p,onChange:function(e){g(e)},placeholder:"Enter 10 digit Mobile Number"}),i.a.createElement(b,{title:"Email*",value:s,onChange:function(e){u(e)},placeholder:"Enter your Email"}),i.a.createElement(v,{disabled:!(y&&n.length&&s&&p.length),title:"Submit",onClick:function(){var e={name:n,email:s,phone:p,pan_no:y};C.a.get("/vendors/get-vendors-by-pan/".concat(y)).then((function(t){0===t.data.length?C.a.post("/nopandata/create-vendors-with-no-pan",e).then((function(e){200===e.status&&(T(!0),F(e.data.data._id),P("Our representative will contact you soon. Please note the Id mentioned above"))})):_.b.error({content:"Your PAN is already registed with us. Please reconfirm KYC.",className:"custom-class",style:{marginTop:"40vh"}})})).catch((function(e){console.log(e)}))}}),i.a.createElement(S,{title:"Id - ".concat(B),modalTextMain:A,visible:k,yesTitle:"Please wait while we check..",handleClose:function(){T(!1)},handleYes:function(){return e.history.push("/")},handleNo:function(){T(!1)}}))})),k=a(112),T=a(203),x=a(420),I=a(424),A=a(427),P=a(426),D=Object(c.createContext)({vendorData:null,setVendorData:function(e){}});function W(){return Object(c.useContext)(D)}var B=p.a.Text,F=k.a.Option;var L=Object(c.memo)((function(e){var t=Object(c.useState)([]),a=Object(m.a)(t,2),n=a[0],o=a[1],r=Object(c.useState)([]),l=Object(m.a)(r,2),s=l[0],u=l[1],d=Object(c.useState)([]),h=Object(m.a)(d,2),p=h[0],g=h[1],f=Object(c.useState)(!1),b=Object(m.a)(f,2),E=b[0],y=b[1],S=W().setVendorData;Object(c.useEffect)((function(){y(!0),C.a.get("/vendors/get-vendors-by-pan/".concat(e.match.params.id)).then((function(e){o(e.data.vendors),u(e.data.unique),y(!1)})).catch((function(e){_.b.error("Please check your internet connection"),console.log(e)}))}),[e.match.params.id]);var O,j={view:{textAlign:"center"},heading:{color:"#1890ff"}},w=[{title:"Name",dataIndex:"name",key:"name",render:function(e){return i.a.createElement(B,{style:{whiteSpace:"nowrap"}},e)}},{title:"Re-KYC",dataIndex:"re-kyc",render:function(t,a){return p.length>=1?a.status?i.a.createElement(v,Object.assign({},e,{title:"View",onClick:function(){return S(a),e.history.push("/summary-form/".concat(a._id))}})):i.a.createElement(v,Object.assign({},e,{title:"Edit",onClick:function(){return S(a),e.history.push("/organization-detail-form/".concat(a._id))}})):null}},{title:"Status",dataIndex:"status",key:"status",render:function(e){return i.a.createElement("div",{style:{marginLeft:"10px"}},!0===e?i.a.createElement(A.a,{twoToneColor:"#52c41a"}):i.a.createElement(P.a,{twoToneColor:"#eb2f96"}))}},{title:"Comp Code",dataIndex:"company_code",key:"company code"},{title:"Vendor code",dataIndex:"vendor_code",key:"vendor code"}];return O=E?i.a.createElement("div",{style:{textAlign:"center",marginTop:20}},i.a.createElement(T.a,{size:"large"})):i.a.createElement(i.a.Fragment,null,0!==p.length?i.a.createElement(i.a.Fragment,null,i.a.createElement(B,{type:"warning"},p.length," ",p.length>1?"entries":"entry"," found."),i.a.createElement("br",null)):null,i.a.createElement(x.a,{columns:w,dataSource:p,scroll:{x:500},size:"small"})),i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{className:"site-page-header",onBack:function(){e.history.goBack()},title:"Re-confirm KYC "}),i.a.createElement("div",{style:j.view},i.a.createElement(B,{style:j.heading},"From the PAN ",e.match.params.id," you are listed here."),i.a.createElement("br",null),i.a.createElement(k.a,{showSearch:!0,style:{width:"80%",marginTop:15,marginBottom:15},placeholder:"Select your GSTN",optionFilterProp:"children",onChange:function(e){var t=n.filter((function(t){return t.gst_no===e}));g(t)},onFocus:function(){console.log("focus")},onBlur:function(){console.log("blur")},onSearch:function(e){console.log("search:",e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},s.map((function(e){return i.a.createElement(F,{value:e.gst_no},e.gst_no)}))),i.a.createElement("br",null),O))})),M=a(224),Y={enableHighAccuracy:!1,timeout:1/0,maximumAge:0},R=a(158),U=a.n(R),H=a(217),z=a(100),V=a.n(z),q=a(429),G=a(428),K=p.a.Text,J={view:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",minHeight:"70vh"},image:{height:80,width:150,marginBottom:30},title:{fontWeight:"bold",marginBottom:2},input:{width:"70%",borderRadius:3,height:40,marginBottom:20}},Q=function(e){Object(l.a)(c,e);var t=Object(r.a)(c);function c(e){var a;return Object(n.a)(this,c),(a=t.call(this,e)).successOtpSent=function(){_.b.success("OTP Sent on your entered Mobile Number!")},a.success=function(){_.b.success("Contact Details Submitted Successfully")},a.sendOtpHandler=function(e){e.preventDefault();var t=a.state.phone,n=window.recaptchaVerifier;a.setState({loading:!0});var o=t.includes("+91")?t:"+91"+t;V.a.auth().signInWithPhoneNumber(o,n).then((function(e){console.log(e),a.setState({confirmResult:e,phoneEntered:!0,message:"OTP is sent on your mobile number."}),a.setState({loading:!1}),a.successOtpSent()})).catch((function(e){console.log(e),a.setState({loading:!1,message:"Something went wrong"})}))},a.verifyResult=function(){var e=a.state,t=e.otp,n=e.confirmResult,o=e.phone,r=e.email,l=e.name;n.confirm(t).then((function(e){a.setState({user:e.user,uid:e.user.uid,loading:!0,error:!1}),C.a.put("/vendors/confirm-phone/".concat(a.props.match.params.id),{phone:o.includes("+91")?o:"+91"+o,email:r,contact_person_name:l}).then(function(){var e=Object(H.a)(U.a.mark((function e(t){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({loading:!1,isLoggedIn:!0}),a.success(),a.context.setVendorData(t.data.vendor);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),a.setState({loading:!1})}))})).catch((function(e){a.setState({loading:!1,error:!0,message:"Invalid OTP!"})}))},a.disabledPhoneHandler=function(){return 10===a.state.phone.length&&a.state.email&&a.state.name},a.disabledOtpHandler=function(){return a.state.otp},a.state={phoneEntered:!1,phone:"",otp:"",email:"",name:"",confirmResult:null,user:null,uid:null,loading:!1,error:!1,message:"",isLoggedIn:!1},a.recaptcha=i.a.createRef(),a}return Object(o.a)(c,[{key:"componentDidMount",value:function(){console.log(this.props.location.state);var e=this.props.location.state,t=e.email,a=e.phone,n=e.contact_person_name;this.setState({email:t,phone:a.substr(3),name:n}),V.a.auth().useDeviceLanguage(),window.recaptchaVerifier=new V.a.auth.RecaptchaVerifier(this.recaptcha,{size:"invisible",callback:function(e){},"expired-callback":function(){}}),window.recaptchaVerifier.render().then((function(e){window.recaptchaWidgetId=e}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.phone,o=t.email,r=t.name,l=t.phoneEntered,c=t.loading,s=t.error,u=t.message;return t.isLoggedIn&&this.props.history.push("/account-detail-form/".concat(this.props.match.params.id)),i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{className:"site-page-header",onBack:function(){e.props.history.goBack()},title:"Contact Verification"}),i.a.createElement("div",{style:J.view},i.a.createElement("img",{src:a(150),style:J.image,alt:"Dollar Industries Ltd."}),i.a.createElement("div",{style:{display:"flex",justifyContent:"center"},ref:function(t){return e.recaptcha=t}}),i.a.createElement(K,{style:J.title},"Name"),i.a.createElement(g.a,{style:J.input,suffix:""===r?"":"Edit",value:r,onChange:function(t){return e.setState({name:t.target.value.toUpperCase()})},placeholder:"Enter Name"}),i.a.createElement(K,{style:J.title},"Phone Number"),i.a.createElement(g.a,{style:J.input,prefix:n.includes("+91")?null:"+91",suffix:""===n?"":"Edit",value:n,placeholder:"Enter 10 digit phone number",onChange:function(t){return e.setState({phone:t.target.value})}}),i.a.createElement(K,{style:J.title},"Email Id"),i.a.createElement(g.a,{style:J.input,suffix:""===o?"":"Edit",value:o,onChange:function(t){return e.setState({email:t.target.value})},placeholder:"Enter valid Email Id"}),l&&i.a.createElement(i.a.Fragment,null,i.a.createElement(K,{style:J.title},"OTP"),i.a.createElement(g.a.Password,{style:J.input,onChange:function(t){return e.setState({otp:t.target.value})},placeholder:"Enter 6 digit OTP",iconRender:function(e){return e?i.a.createElement(q.a,null):i.a.createElement(G.a,null)}})),c?i.a.createElement("div",{style:{textAlign:"center"}},i.a.createElement(T.a,{size:"large"})):l?i.a.createElement(v,{disabled:!this.disabledOtpHandler(),title:"Verify OTP",onClick:this.verifyResult}):i.a.createElement(v,{disabled:!this.disabledPhoneHandler(),title:"Request OTP",onClick:this.sendOtpHandler}),s&&i.a.createElement("h5",{style:{color:"#d9534f",textAlign:"center"}},u)))}}]),c}(c.Component);Q.contextType=D;var Z=Object(c.memo)(Q),$=a(142),X=a(421),ee=[{State:"Andhra Pradesh",TIN:"37","State Code":"AD"},{State:"Arunachal Pradesh",TIN:"12","State Code":"AR"},{State:"Assam",TIN:"18","State Code":"AS"},{State:"Bihar",TIN:"10","State Code":"BR"},{State:"Chattisgarh",TIN:"22","State Code":"CG"},{State:"Delhi",TIN:"07","State Code":"DL"},{State:"Goa",TIN:"30","State Code":"GA"},{State:"Gujarat",TIN:"24","State Code":"GJ"},{State:"Haryana",TIN:"06","State Code":"HR"},{State:"Himachal Pradesh",TIN:"02","State Code":"HP"},{State:"Jammu and Kashmir",TIN:"01","State Code":"JK"},{State:"Jharkhand",TIN:"20","State Code":"JH"},{State:"Karnataka",TIN:"29","State Code":"KA"},{State:"Kerala",TIN:"32","State Code":"KL"},{State:"Lakshadweep Islands",TIN:"31","State Code":"LD"},{State:"Madhya Pradesh",TIN:"23","State Code":"MP"},{State:"Maharashtra",TIN:"27","State Code":"MH"},{State:"Manipur",TIN:"14","State Code":"MN"},{State:"Meghalaya",TIN:"17","State Code":"ML"},{State:"Mizoram",TIN:"15","State Code":"MZ"},{State:"Nagaland",TIN:"13","State Code":"NL"},{State:"Odisha",TIN:"21","State Code":"OD"},{State:"Pondicherry",TIN:"34","State Code":"PY"},{State:"Punjab",TIN:"03","State Code":"PB"},{State:"Rajasthan",TIN:"08","State Code":"RJ"},{State:"Sikkim",TIN:"11","State Code":"SK"},{State:"Tamil Nadu",TIN:"33","State Code":"TN"},{State:"Telangana",TIN:"36","State Code":"TS"},{State:"Tripura",TIN:"16","State Code":"TR"},{State:"Uttar Pradesh",TIN:"09","State Code":"UP"},{State:"Uttarakhand",TIN:"05","State Code":"UK"},{State:"West Bengal",TIN:"19","State Code":"WB"},{State:"Andaman and Nicobar Islands",TIN:"35","State Code":"AN"},{State:"Chandigarh",TIN:"04","State Code":"CH"},{State:"Dadra and Nagar Haveli",TIN:"26","State Code":"DN"},{State:"Daman and Diu",TIN:"25","State Code":"DD"},{State:"Ladakh",TIN:"38","State Code":"LA"},{State:"Other Territory",TIN:"97","State Code":"OT"}],te=a(56),ae=a.n(te),ne=k.a.Option,oe=p.a.Text;var re=Object(c.memo)((function(e){var t=Object(c.useState)(null),a=Object(m.a)(t,2),n=a[0],o=a[1],r=Object(c.useState)("N"),l=Object(m.a)(r,2),s=l[0],u=l[1],d=Object(c.useState)(!1),h=Object(m.a)(d,2),p=h[0],g=h[1],f=Object(c.useState)(""),E=Object(m.a)(f,2),y=E[0],S=E[1],O=Object(c.useState)(""),j=Object(m.a)(O,2),w=j[0],N=j[1],T=Object(c.useState)(""),x=Object(m.a)(T,2),A=x[0],P=x[1],D=Object(c.useState)(""),B=Object(m.a)(D,2),F=B[0],L=B[1],M=Object(c.useState)(""),Y=Object(m.a)(M,2),R=Y[0],U=Y[1],H=Object(c.useState)(""),z=Object(m.a)(H,2),V=z[0],q=z[1],G=Object(c.useState)(null),K=Object(m.a)(G,2),J=K[0],Q=K[1],Z=Object(c.useState)(""),te=Object(m.a)(Z,2),re=te[0],le=te[1],ce=Object(c.useState)(""),ie=Object(m.a)(ce,2),se=ie[0],ue=ie[1],me=Object(c.useState)(""),de=Object(m.a)(me,2),he=(de[0],de[1]),pe=Object(c.useState)(""),ge=Object(m.a)(pe,2),fe=ge[0],be=ge[1],Ee=Object(c.useState)(""),ve=Object(m.a)(Ee,2),ye=ve[0],Se=ve[1],Oe=W(),Ce=Oe.vendorData,_e=Oe.setVendorData;Object(c.useEffect)((function(){if(Ce){var t=Ce.type_of_organization,a=Ce.address_line1,n=Ce.address_line2,r=Ce.address_line3,l=Ce.city,c=Ce.state,i=Ce.pin_code,s=Ce.turnover,m=Ce.is_msme,d=Ce.msme_reg_no,h=Ce.msme_valid_from,p=Ce.phone_number,f=Ce.email,b=Ce.contact_person_name,E=Ce.gst_no,v=ee.filter((function(e){return e.TIN==E.substring(0,2)}))[0];o(t),g(s),u(m),S(d),N(h),P(a),L(n),U(r),q(l),Q(c||v&&v.TIN+"-"+v.State),le(i),be(p),ue(f),Se(b),he(E)}else C.a.get("/vendors/get-vendor/".concat(e.match.params.id)).then((function(e){var t=e.data.vendor,a=t.type_of_organization,n=t.address_line1,r=t.address_line2,l=t.address_line3,c=t.city,i=t.state,s=t.pin_code,m=t.turnover,d=t.is_msme,h=t.msme_reg_no,p=t.msme_valid_from,f=t.email,b=t.phone_number,E=t.contact_person_name,v=t.gst_no,y=ee.filter((function(e){return e.TIN==v.substring(0,2)}))[0];o(a),g(m),u(d),S(h),N(p),P(n),L(r),U(l),q(c),Q(i||y&&y.TIN+"-"+y.State),le(s),be(b),ue(f),Se(E),he(v)})).catch((function(e){console.log(e),e.response?""!==e.response.data.message&&_.b.error("Invalid Vendor Id"):_.b.error("Please check your internet connection")}))}),[Ce]);var je={view:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",minHeight:"70vh"},title:{fontWeight:"bold",marginBottom:4},select:{width:"80%",color:"black"},stateView:{padding:6,border:"1px solid #d9d9d9",width:"70%"}};return i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{className:"site-page-header",onBack:function(){e.history.goBack()},title:"Organization Details"}),i.a.createElement("div",{style:je.view},i.a.createElement(oe,{style:je.title},"Type of Organization",i.a.createElement(oe,{type:"danger"},"*")),i.a.createElement(k.a,{value:n,showSearch:!0,style:je.select,placeholder:"Select a type of orgarnization",optionFilterProp:"children",onChange:function(e){o(e)},onSearch:function(e){console.log("search:",e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},i.a.createElement(ne,{value:"Private Ltd Company"},"Private Ltd Company"),i.a.createElement(ne,{value:"Public Ltd Company"},"Public Ltd Company"),i.a.createElement(ne,{value:"Proprietorship"},"Proprietorship"),i.a.createElement(ne,{value:"Partnership"},"Partnership"),i.a.createElement(ne,{value:"LLP"},"LLP"),i.a.createElement(ne,{value:"Others"},"Others")),i.a.createElement("br",null),i.a.createElement(oe,{style:je.title},"Turnover ",">"," 500 crore",i.a.createElement(oe,{type:"danger"},"*")),i.a.createElement($.a.Group,{style:{marginBottom:10},onChange:function(e){g(e.target.value)},value:p},i.a.createElement($.a,{value:!0},"Yes"),i.a.createElement($.a,{value:!1},"No")),i.a.createElement(oe,{style:je.title},"Is MSME",i.a.createElement(oe,{type:"danger"},"*")),i.a.createElement($.a.Group,{style:{marginBottom:10},onChange:function(e){localStorage.setItem("is_msme",e.target.value),u(e.target.value)},value:s},i.a.createElement($.a,{value:"Y"},"Yes"),i.a.createElement($.a,{value:"N"},"No")),"Y"===s?i.a.createElement(i.a.Fragment,null,i.a.createElement(b,{value:y,required:!0,suffix:y?"Edit":null,onChange:function(e){S(e.toUpperCase())},title:"MSME Registration number",autoFocus:!0,placeholder:"Enter Registration Number"}),i.a.createElement(oe,{style:je.title},"Valid From",i.a.createElement(oe,{type:"danger"},"*")),i.a.createElement(X.a,{allowClear:!1,suffixIcon:function(){},onChange:function(e,t){console.log(e),N(e)}})):null,i.a.createElement(b,{value:A,required:!0,onChange:function(e){P(e.toUpperCase())},title:"Address line 1",placeholder:"Enter Address line 1"}),i.a.createElement(b,{value:F,onChange:function(e){L(e.toUpperCase())},title:"Address line 2",placeholder:"Enter Address line 2"}),i.a.createElement(b,{value:R,onChange:function(e){U(e.toUpperCase())},title:"Address line 3",placeholder:"Enter Address line 3"}),i.a.createElement(b,{value:V,required:!0,onChange:function(e){q(e.toUpperCase())},title:"City",placeholder:"Enter City"}),i.a.createElement(oe,{style:je.title},"State",i.a.createElement(oe,{type:"danger"},"*")),i.a.createElement("div",{style:je.stateView},i.a.createElement(oe,{style:{color:"color: rgba(0, 0, 0, 0.65)"}},J)),i.a.createElement(b,{value:re,required:!0,onChange:function(e){le(e.toUpperCase())},title:"Pin Code",placeholder:"Enter Pin Code"}),i.a.createElement(v,{title:"Submit",disabled:!("Yes"===s?n&&y&&w&&A&&J&&V&&re:n&&A&&J&&V&&re),onClick:function(){var t={type_of_organization:n,is_msme:s,msme_reg_no:y,msme_valid_from:y?ae()(w).format("YYYY-MM-DD"):null,address_line1:A,address_line2:F,address_line3:R,state:J,city:V,pin_code:re,turnover:p};C.a.put("/vendors/update-vendor-organization-details/".concat(e.match.params.id),t).then((function(t){_.b.success("Organization Details Submitted Successfully"),_e(t.data.vendor),e.history.push("/phone-verify/".concat(e.match.params.id),{email:se,phone:fe,contact_person_name:ye})})).catch((function(e){console.log(e),_.b.error("This is an error message")}))}}),i.a.createElement("br",null)))})),le=k.a.Option,ce=p.a.Text;var ie=Object(c.memo)((function(e){var t=Object(c.useState)(""),a=Object(m.a)(t,2),n=a[0],o=a[1],r=Object(c.useState)(""),l=Object(m.a)(r,2),s=l[0],u=l[1],d=Object(c.useState)(""),h=Object(m.a)(d,2),p=h[0],g=h[1],f=Object(c.useState)(""),E=Object(m.a)(f,2),y=E[0],S=E[1],O=Object(c.useState)(""),j=Object(m.a)(O,2),w=j[0],N=j[1],T=Object(c.useState)(""),x=Object(m.a)(T,2),A=x[0],P=x[1],D=Object(c.useState)(""),B=Object(m.a)(D,2),F=B[0],L=B[1],M=W(),Y=M.vendorData,R=M.setVendorData;Object(c.useEffect)((function(){if(Y){var t=Y.accounts_head_name,a=Y.accounts_head_email,n=Y.accounts_head_mobile,r=Y.bank_account_no,l=Y.bank_account_type,c=Y.bank_name,i=Y.bank_ifsc;u(a),g(n),o(t),S(r),P(l),L(i),N(c)}else C.a.get("/vendors/get-vendor/".concat(e.match.params.id)).then((function(e){var t=e.data.vendor,a=t.accounts_head_name,n=t.accounts_head_email,r=t.accounts_head_mobile,l=t.bank_account_no,c=t.bank_account_type,i=t.bank_name,s=t.bank_ifsc;u(n),g(r),o(a),S(l),P(c),L(s),N(i)})).catch((function(e){console.log(e),_.b.error("Please check your internet connection")}))}),[]);var U={view:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",minHeight:"70vh"},title:{fontWeight:"bold",marginBottom:4},select:{width:"80%"},heading:{fontSize:18,fontWeight:"bold"}};return i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{className:"site-page-header",onBack:function(){e.history.goBack()},title:"Account Details"}),i.a.createElement("div",{style:U.view},i.a.createElement(ce,{style:U.heading},"Account Head Details"),i.a.createElement(b,{value:n,required:!0,onChange:function(e){o(e.toUpperCase())},title:"Name",placeholder:"Enter Name"}),i.a.createElement(b,{value:p,required:!0,onChange:function(e){g(e)},title:"Phone Number",placeholder:"Enter Phone"}),i.a.createElement(b,{value:s,required:!0,onChange:function(e){u(e.toUpperCase())},title:"Email",placeholder:"Enter Email"}),i.a.createElement("br",null),i.a.createElement(ce,{style:U.heading},"Bank Details"),i.a.createElement(b,{value:w,required:!0,onChange:function(e){N(e.toUpperCase())},title:"Bank Name",placeholder:"Enter Bank Name"}),i.a.createElement(ce,{style:U.title},"Account Type",i.a.createElement(ce,{type:"danger"},"*")),i.a.createElement(k.a,{value:A,showSearch:!0,style:U.select,placeholder:"Select Account Type",optionFilterProp:"children",onChange:function(e){P(e)},onSearch:function(e){console.log("search:",e)},filterOption:function(e,t){return t.children.toLowerCase().indexOf(e.toLowerCase())>=0}},i.a.createElement(le,{value:"Current"},"Current"),i.a.createElement(le,{value:"Savings"},"Savings"),i.a.createElement(le,{value:"Cash Credit"},"Cash Credit"),i.a.createElement(le,{value:"Overdraft"},"Overdraft"),i.a.createElement(le,{value:"Others"},"Others")),i.a.createElement(b,{value:y,required:!0,onChange:function(e){S(e)},title:"Account Number",placeholder:"Enter Account Number"}),i.a.createElement(b,{value:F,required:!0,onChange:function(e){L(e.toUpperCase())},title:"IFSC",placeholder:"Enter 11 digit IFSC"}),i.a.createElement(v,{title:"Submit",disabled:!(s&&p&&n&&y&&A&&F&&w),onClick:function(){var t={accounts_head_name:n,accounts_head_mobile:p,accounts_head_email:s,bank_account_no:y,bank_account_type:A,bank_name:w,bank_ifsc:F};C.a.put("/vendors/update-vendor-account-details/".concat(e.match.params.id),t).then((function(t){R(t.data.vendor),_.b.success("Account Details Submitted Successfully"),e.history.push("/attachement-details/".concat(e.match.params.id))})).catch((function(e){console.log(e.response),_.b.error("Something went wrong.")}))}}),i.a.createElement("br",null)))})),se=a(430),ue=p.a.Text;var me=Object(c.memo)((function(e){var t=Object(c.useState)(null),a=Object(m.a)(t,2),n=a[0],o=a[1],r=Object(c.useState)(null),l=Object(m.a)(r,2),s=l[0],u=l[1],d=Object(c.useState)(null),h=Object(m.a)(d,2),p=h[0],g=h[1],f=Object(c.useState)(null),b=Object(m.a)(f,2),E=b[0],y=b[1],S=Object(c.useState)(""),O=Object(m.a)(S,2),j=O[0],w=O[1],N=Object(c.useState)(""),k=Object(m.a)(N,2),x=k[0],A=k[1],P=Object(c.useState)(""),D=Object(m.a)(P,2),B=D[0],F=D[1],L=Object(c.useState)(""),M=Object(m.a)(L,2),Y=M[0],R=M[1],U=Object(c.useState)(""),H=Object(m.a)(U,2),z=H[0],V=H[1],q=Object(c.useState)("N"),G=Object(m.a)(q,2),K=G[0],J=G[1],Q=Object(c.useState)(!1),Z=Object(m.a)(Q,2),$=Z[0],X=Z[1],ee=W(),te=ee.vendorData,ae=ee.setVendorData;Object(c.useEffect)((function(){var t=localStorage.getItem("is_msme");if(J(t||"N"),te){var a=te.vendor_code,n=te.company_code,o=te.pan_no,r=te.gst_no,l=te.msme_reg_no;w(a),A(n),F(o),R(r),V(l)}else C.a.get("/vendors/get-vendor/".concat(e.match.params.id)).then((function(e){var t=e.data.vendor,a=t.vendor_code,n=t.company_code,o=t.pan_no,r=t.gst_no,l=t.msme_reg_no;w(a),A(n),F(o),R(r),V(l)})).catch((function(e){console.log(e)}))}),[te]);var ne={view:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"70vh"},title:{fontWeight:"bold",marginBottom:4},select:{width:"80%"},label:{borderRadius:20,marginTop:10,border:"1px solid #40A9FF",color:"#40A9FF",fontWeight:"bold",marginBottom:5,padding:"5px 15px 5px 15px"}};return i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{className:"site-page-header",onBack:function(){e.history.goBack()},title:"Documents Required"}),i.a.createElement("div",{style:ne.view},i.a.createElement(ue,{type:"warning"},"Supported File formats(JPG, PNG, PDF)"),i.a.createElement("br",null),i.a.createElement(ue,{style:ne.title},"PAN Attachment",i.a.createElement(ue,{type:"danger"},"*")),i.a.createElement("label",{for:"pan",style:ne.label},i.a.createElement(se.a,null)," Click to Upload"),i.a.createElement(ue,null,n&&n.name),i.a.createElement("input",{hidden:!0,id:"pan",title:"Attach",type:"file",onChange:function(e){var t=e.target.files[0];o(t)}}),i.a.createElement(ue,{style:ne.title},"GST Attachment",i.a.createElement(ue,{type:"danger"},"*")),i.a.createElement("label",{for:"gst",style:ne.label},i.a.createElement(se.a,null)," Click to Upload"),i.a.createElement(ue,null,s&&s.name),i.a.createElement("input",{hidden:!0,id:"gst",title:"Attach",type:"file",onChange:function(e){var t=e.target.files[0];u(t)}}),"Y"===K?i.a.createElement(i.a.Fragment,null,i.a.createElement(ue,{style:ne.title},"MSME Attachment",i.a.createElement(ue,{type:"danger"},"*")),i.a.createElement("label",{for:"msme",style:ne.label},i.a.createElement(se.a,null)," Click to Upload")):null,i.a.createElement("input",{hidden:!0,id:"msme",title:"Attach",type:"file",onChange:function(e){var t=e.target.files[0];g(t)}}),i.a.createElement(ue,null,p&&p.name),i.a.createElement(ue,{style:ne.title},"Bank Cancelled cheque",i.a.createElement(ue,{type:"danger"},"*")),i.a.createElement("label",{for:"bank",style:ne.label},i.a.createElement(se.a,null)," Click to Upload"),i.a.createElement("input",{hidden:!0,id:"bank",title:"Attach",type:"file",onChange:function(e){var t=e.target.files[0];y(t)}}),i.a.createElement(ue,null,E&&E.name),i.a.createElement(v,{title:"Submit",disabled:!("Y"===K?n&&s&&p&&E:n&&s&&E),onClick:function(){X(!0);var t=new FormData;t.append("pan_attachment",n),t.append("gst_attachment",s),t.append("msme_attachment",p),t.append("bank_cancelled_cheque",E),t.append("company_code",x),t.append("vendor_code",j),t.append("pan_no",B),t.append("gst_no",Y),t.append("msme_reg_no",z),C.a.put("/vendors/update-vendor-attachments/".concat(e.match.params.id),t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(t){ae(t.data.vendor),C.a.post("/vendors/copy-vendors-by-gst-pan-id/".concat(e.match.params.id),{gst_no:Y,pan_no:B}).then((function(t){_.b.success("Attachments uploaded successfully"),X(!1),e.history.push("/summary-form/".concat(e.match.params.id))}))})).catch((function(e){console.log(e),X(!1),_.b.error("Something went wrong")}))}}),$&&i.a.createElement("div",{style:{textAlign:"center",marginTop:15}},i.a.createElement(T.a,{size:"large"}))))})),de=a(219),he=a(111),pe=p.a.Text;var ge=Object(c.memo)((function(e){var t=Object(c.useState)({}),n=Object(m.a)(t,2),o=n[0],r=n[1],l=Object(c.useState)(!1),s=Object(m.a)(l,2),u=s[0],d=s[1],h=W().vendorData;Object(c.useEffect)((function(){h?r(h):C.a.get("/vendors/get-vendor/".concat(e.match.params.id)).then((function(e){r(e.data.vendor)})).catch((function(e){e.response?"Could not find vendor."===e.response.data.message&&_.b.error("Invalid Vendor Id"):_.b.error("Please check your internet connection")}))}),[h]);var p={view:{display:"flex",flexDirection:"column",color:"white",minHeight:"70vh",paddingLeft:20,paddinRight:20,fontSize:12},title:{fontWeight:"bold",marginBottom:4},select:{width:"80%"},image:{height:60,width:100,marginTop:10},mainHeading:{color:"#5cb85c"},heading:{fontSize:18,fontWeight:"bold",marginBottom:20}};return i.a.createElement(i.a.Fragment,null,i.a.createElement(I.a,{className:"site-page-header",onBack:u?function(){e.history.goBack()}:null,title:"Vendor Summary",extra:[i.a.createElement("img",{style:p.image,src:a(150),alt:"dollar"})]}),i.a.createElement("div",{style:p.view},i.a.createElement(pe,{style:p.mainHeading},"Vendor KYC submitted successfully!"),i.a.createElement(pe,null,ae()(o.updatedAt).format("DD-MM-YYYY hh:mm A")),i.a.createElement(de.QRCode,{level:"Q",style:{width:130,position:"absolute",right:10,marginTop:100},value:"".concat(he.apiUrl,"/summary-form/").concat(e.match.params.id)}),i.a.createElement("br",null),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold",whiteSpace:"nowrap"}},"Name")," - ",o.name),i.a.createElement("div",{style:{display:"flex",flexDirection:"row"}},i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"Company Code")," - ",o.company_code),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold",marginLeft:20}},"Vendor Code")," - ",o.vendor_code)),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"PAN Number")," - ",o.pan_no),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"GST Number")," - ",o.gst_no),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"Phone Number")," - ",o.phone_number),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"Email")," - ",o.email),i.a.createElement("br",null),i.a.createElement(pe,{style:p.heading},"Organization Details"),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"Type Of Organization")," - ",o.type_of_organization),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"MSME")," - ","Y"===o.is_msme?"Yes":"No"),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"Turnover ",">"," 500 cr.")," - ",o.turnover?"Yes":"No"),"Y"===o.is_msme?i.a.createElement(i.a.Fragment,null,i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"MSME Reg. No.")," - ",o.msme_reg_no),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"MSME Valid From")," - ",ae()(o.msme_valid_from).format("DD-MM-YYYY"))):null,i.a.createElement("br",null),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"Address Line 1")," - ",o.address_line1),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"Address Line 2")," - ",o.address_line2),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"Address Line 3")," - ",o.address_line3),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"City")," - ",o.city),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"State")," - ",o.state),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"Pin Code")," - ",o.pin_code),i.a.createElement("br",null),i.a.createElement(pe,{style:p.heading},"Account and Bank Details"),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"Account Head Name")," - ",o.accounts_head_name),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"Account Head Phone")," - ",o.accounts_head_mobile),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"Account Head Email")," - ",o.accounts_head_email),i.a.createElement("br",null),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"Bank Name")," - ",o.bank_name),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"Bank Account Number")," - ",o.bank_account_no),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"Account Type")," - ",o.bank_account_type),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"Bank IFSC")," - ",o.bank_ifsc),i.a.createElement("br",null),i.a.createElement(pe,{style:p.heading},"Documents Provided"),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"PAN")," - ",o.pan_attachment&&o.pan_attachment.substr(7)),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"GST")," - ",o.gst_attachment&&o.gst_attachment.substr(7)),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"MSME")," - ",o.msme_attachment&&o.msme_attachment.substr(7)),i.a.createElement(pe,null,i.a.createElement(pe,{style:{fontWeight:"bold"}},"Bank")," - ",o.bank_cancelled_cheque&&o.bank_cancelled_cheque.substr(7)),i.a.createElement("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-around"}},i.a.createElement(v,{type:"primary",title:"Print",width:"30%",print:u,onClick:function(){setTimeout((function(){d(!0),window.print(),d(!1),e.history.push("/gst-listing/".concat(o.pan_no))}),1e3)}}),i.a.createElement(v,{type:"primary",title:"Share",width:"30%",print:u,onClick:function(){navigator.share&&navigator.share({title:"Dollar Vendor ".concat(o._id),text:"Find the most hygienic places near you",url:"".concat(he.apiUrl,"/summary-form/").concat(e.match.params.id)}).then((function(){return console.log("Successful Share")})).catch((function(e){return console.log("Error sharing application",e)}))}}))))}));var fe=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Y,a=Object(c.useState)({}),n=Object(m.a)(a,2),o=n[0],r=n[1],l=Object(c.useState)(null),i=Object(m.a)(l,2),s=i[0],u=i[1],d=function(e){var t=e.coords,a=e.timestamp;r({latitude:t.latitude,longitude:t.longitude,accuracy:t.accuracy,timestamp:a})},h=function(e){u(e.message)};return Object(c.useEffect)((function(){if(navigator&&navigator.geolocation){var a=null;return e?a=navigator.geolocation.watchPosition(d,h,t):navigator.geolocation.getCurrentPosition(d,h,t),function(){return a&&navigator.geolocation.clearWatch(a)}}u("Geolocation is not supported")}),[t,e,t.enableHighAccuracy,t.timeout,t.maximumAge]),Object(M.a)({},o,{error:s})}(e.watch,e.settings),a=t.latitude,n=t.longitude,o=(t.error,Object(c.useState)(null)),r=Object(m.a)(o,2),l=r[0],s=r[1];return Object(c.useEffect)((function(){a&&n&&console.log(a,n)}),[]),i.a.createElement("div",{className:"App"},i.a.createElement(d.a,null,i.a.createElement(h.c,null,i.a.createElement(D.Provider,{value:{vendorData:l,setVendorData:s}},i.a.createElement(h.a,{exact:!0,path:"/",component:j}),i.a.createElement(h.a,{exact:!0,path:"/phone-verify/:id",component:Z}),i.a.createElement(h.a,{exact:!0,path:"/request-pan-info",component:N}),i.a.createElement(h.a,{exact:!0,path:"/gst-listing/:id",component:L}),i.a.createElement(h.a,{exact:!0,path:"/organization-detail-form/:id",component:re}),i.a.createElement(h.a,{exact:!0,path:"/account-detail-form/:id",component:ie}),i.a.createElement(h.a,{exact:!0,path:"/attachement-details/:id",component:me}),i.a.createElement(h.a,{exact:!0,path:"/summary-form/:id",component:ge})))))},be=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ee(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}a(418);var ve={apiKey:"AIzaSyAck0KGmFjlZq1Ur1h7aucGLDuqi8uhYNo",authDomain:"dollar-app-d2044.firebaseapp.com",databaseURL:"https://dollar-app-d2044.firebaseio.com",projectId:"dollar-app-d2044",storageBucket:"dollar-app-d2044.appspot.com",messagingSenderId:"427883286231",appId:"1:427883286231:web:9d771bfb12ec4180c76a92",measurementId:"G-3R8FJKQ7F6"};C.a.defaults.baseURL=he.apiUrl,C.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),C.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var ye=function(e){Object(l.a)(a,e);var t=Object(r.a)(a);function a(){return Object(n.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"componentWillMount",value:function(){V.a.initializeApp(ve)}},{key:"render",value:function(){return i.a.createElement(fe,null)}}]),a}(c.Component);u.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(ye,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");be?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Ee(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Ee(t,e)}))}}()}},[[227,1,2]]]);
//# sourceMappingURL=main.94e771c5.chunk.js.map